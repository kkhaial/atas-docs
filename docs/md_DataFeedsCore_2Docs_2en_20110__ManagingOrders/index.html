<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html class="light-mode" xmlns="http://www.w3.org/1999/xhtml"><head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=9" http-equiv="X-UA-Compatible"/>
<meta content="Doxygen 1.9.7" name="generator"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>ATAS: Managing orders in trading</title>
<link href="..\tabs.css" rel="stylesheet" type="text/css"/>
<script src="..\jquery.js" type="text/javascript"></script>
<script src="..\dynsections.js" type="text/javascript"></script>
<script src="..\atas_custom.js" type="text/javascript"></script>
<script src="..\doxygen-awesome-darkmode-toggle.js" type="text/javascript"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script src="..\doxygen-awesome-fragment-copy-button.js" type="text/javascript"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<link href="..\navtree.css" rel="stylesheet" type="text/css"/>
<script src="..\resize.js" type="text/javascript"></script>
<script src="..\navtreedata.js" type="text/javascript"></script>
<script src="..\navtree.js" type="text/javascript"></script>
<link href="..\search\search.css" rel="stylesheet" type="text/css"/>
<script src="..\search\searchdata.js" type="text/javascript"></script>
<script src="..\search\search.js" type="text/javascript"></script>
<link href="..\doxygen.css" rel="stylesheet" type="text/css"/>
<link href="..\doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="..\doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="..\doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="..\atas_style.css" rel="stylesheet" type="text/css"/>
<script id="navtreeindex29" src="..\navtreeindex29.js" type="text/javascript"></script></head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="cursor: pointer;">
<table cellpadding="0" cellspacing="0">
<tbody>
<tr style="height: 56px;">
<td id="projectlogo"><img alt="Logo" src="..\icon.ico"/></td>
<td id="projectalign" style="padding-left: 0.5em;">
<div id="projectname">ATAS
   </div>
</td>
</tr>
</tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script src="..\menudata.js" type="text/javascript"></script>
<script src="..\menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div class="sm sm-dox"><input id="main-menu-state" type="checkbox"/><label class="main-menu-btn" for="main-menu-state"><span class="main-menu-btn-icon"></span> Toggle main menu visibility</label><span id="searchBoxPos1" style="position:absolute;right:8px;top:8px;height:36px;"></span></div><div id="main-nav"><ul class="sm sm-dox" data-smartmenus-id="17470378651034922" id="main-menu"><li><a href="..\pages\index.html">Related Pages</a></li><li><a aria-controls="sm-17470378651034922-2" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\namespaces\index.html" id="sm-17470378651034922-1">Packages<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-1" id="sm-17470378651034922-2" role="group"><li><a href="..\namespaces\index.html">Package List</a></li><li><a aria-controls="sm-17470378651034922-4" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\namespacemembers\index.html" id="sm-17470378651034922-3">Package Members<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-3" id="sm-17470378651034922-4" role="group"><li><a aria-controls="sm-17470378651034922-6" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\namespacemembers\index.html" id="sm-17470378651034922-5">All<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-5" id="sm-17470378651034922-6" role="group"><li><a href="..\namespacemembers\index.html#index_b">b</a></li><li><a href="..\namespacemembers\index.html#index_c">c</a></li><li><a href="..\namespacemembers\index.html#index_d">d</a></li><li><a href="..\namespacemembers\index.html#index_e">e</a></li><li><a href="..\namespacemembers\index.html#index_f">f</a></li><li><a href="..\namespacemembers\index.html#index_h">h</a></li><li><a href="..\namespacemembers\index.html#index_i">i</a></li><li><a href="..\namespacemembers\index.html#index_m">m</a></li><li><a href="..\namespacemembers\index.html#index_n">n</a></li><li><a href="..\namespacemembers\index.html#index_o">o</a></li><li><a href="..\namespacemembers\index.html#index_p">p</a></li><li><a href="..\namespacemembers\index.html#index_r">r</a></li><li><a href="..\namespacemembers\index.html#index_s">s</a></li><li><a href="..\namespacemembers\index.html#index_t">t</a></li><li><a href="..\namespacemembers\index.html#index_u">u</a></li><li><a href="..\namespacemembers\index.html#index_v">v</a></li></ul></li><li><a href="..\namespacemembers_func\index.html">Functions</a></li><li><a href="..\namespacemembers_vars\index.html">Variables</a></li><li><a href="..\namespacemembers_type\index.html">Typedefs</a></li><li><a aria-controls="sm-17470378651034922-8" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\namespacemembers_enum\index.html" id="sm-17470378651034922-7">Enumerations<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-7" id="sm-17470378651034922-8" role="group"><li><a href="..\namespacemembers_enum\index.html#index_c">c</a></li><li><a href="..\namespacemembers_enum\index.html#index_d">d</a></li><li><a href="..\namespacemembers_enum\index.html#index_e">e</a></li><li><a href="..\namespacemembers_enum\index.html#index_f">f</a></li><li><a href="..\namespacemembers_enum\index.html#index_m">m</a></li><li><a href="..\namespacemembers_enum\index.html#index_n">n</a></li><li><a href="..\namespacemembers_enum\index.html#index_o">o</a></li><li><a href="..\namespacemembers_enum\index.html#index_p">p</a></li><li><a href="..\namespacemembers_enum\index.html#index_r">r</a></li><li><a href="..\namespacemembers_enum\index.html#index_s">s</a></li><li><a href="..\namespacemembers_enum\index.html#index_t">t</a></li><li><a href="..\namespacemembers_enum\index.html#index_u">u</a></li><li><a href="..\namespacemembers_enum\index.html#index_v">v</a></li></ul></li></ul></li></ul></li><li><a aria-controls="sm-17470378651034922-10" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\annotated\index.html" id="sm-17470378651034922-9">Classes<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-9" id="sm-17470378651034922-10" role="group"><li><a href="..\annotated\index.html">Class List</a></li><li><a href="..\classes\index.html">Class Index</a></li><li><a href="..\inherits\index.html">Class Hierarchy</a></li><li><a aria-controls="sm-17470378651034922-12" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\functions\index.html" id="sm-17470378651034922-11">Class Members<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-11" id="sm-17470378651034922-12" role="group"><li><a aria-controls="sm-17470378651034922-14" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\functions\index.html" id="sm-17470378651034922-13">All<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-13" id="sm-17470378651034922-14" role="group"><li><a href="..\functions\index.html#index__5F">_</a></li><li><a href="..\functions_a\index.html#index_a">a</a></li><li><a href="..\functions_b\index.html#index_b">b</a></li><li><a href="..\functions_c\index.html#index_c">c</a></li><li><a href="..\functions_d\index.html#index_d">d</a></li><li><a href="..\functions_e\index.html#index_e">e</a></li><li><a href="..\functions_f\index.html#index_f">f</a></li><li><a href="..\functions_g\index.html#index_g">g</a></li><li><a href="..\functions_h\index.html#index_h">h</a></li><li><a href="..\functions_i\index.html#index_i">i</a></li><li><a href="..\functions_k\index.html#index_k">k</a></li><li><a href="..\functions_l\index.html#index_l">l</a></li><li><a href="..\functions_m\index.html#index_m">m</a></li><li><a href="..\functions_n\index.html#index_n">n</a></li><li><a href="..\functions_o\index.html#index_o">o</a></li><li><a href="..\functions_p\index.html#index_p">p</a></li><li><a href="..\functions_q\index.html#index_q">q</a></li><li><a href="..\functions_r\index.html#index_r">r</a></li><li><a href="..\functions_s\index.html#index_s">s</a></li><li><a href="..\functions_t\index.html#index_t">t</a></li><li><a href="..\functions_u\index.html#index_u">u</a></li><li><a href="..\functions_v\index.html#index_v">v</a></li><li><a href="..\functions_w\index.html#index_w">w</a></li><li><a href="..\functions_x\index.html#index_x">x</a></li><li><a href="..\functions_y\index.html#index_y">y</a></li><li><a href="..\functions_z\index.html#index_z">z</a></li></ul></li><li><a aria-controls="sm-17470378651034922-16" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\functions_func\index.html" id="sm-17470378651034922-15">Functions<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-15" id="sm-17470378651034922-16" role="group"><li><a href="..\functions_func\index.html#index_a">a</a></li><li><a href="..\functions_func_b\index.html#index_b">b</a></li><li><a href="..\functions_func_c\index.html#index_c">c</a></li><li><a href="..\functions_func_d\index.html#index_d">d</a></li><li><a href="..\functions_func_e\index.html#index_e">e</a></li><li><a href="..\functions_func_f\index.html#index_f">f</a></li><li><a href="..\functions_func_g\index.html#index_g">g</a></li><li><a href="..\functions_func_h\index.html#index_h">h</a></li><li><a href="..\functions_func_i\index.html#index_i">i</a></li><li><a href="..\functions_func_l\index.html#index_l">l</a></li><li><a href="..\functions_func_m\index.html#index_m">m</a></li><li><a href="..\functions_func_n\index.html#index_n">n</a></li><li><a href="..\functions_func_o\index.html#index_o">o</a></li><li><a href="..\functions_func_p\index.html#index_p">p</a></li><li><a href="..\functions_func_r\index.html#index_r">r</a></li><li><a href="..\functions_func_s\index.html#index_s">s</a></li><li><a href="..\functions_func_t\index.html#index_t">t</a></li><li><a href="..\functions_func_u\index.html#index_u">u</a></li><li><a href="..\functions_func_v\index.html#index_v">v</a></li><li><a href="..\functions_func_w\index.html#index_w">w</a></li></ul></li><li><a href="..\functions_vars\index.html">Variables</a></li><li><a href="..\functions_enum\index.html">Enumerations</a></li><li><a aria-controls="sm-17470378651034922-18" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\functions_prop\index.html" id="sm-17470378651034922-17">Properties<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-17" id="sm-17470378651034922-18" role="group"><li><a href="..\functions_prop\index.html#index_a">a</a></li><li><a href="..\functions_prop_b\index.html#index_b">b</a></li><li><a href="..\functions_prop_c\index.html#index_c">c</a></li><li><a href="..\functions_prop_d\index.html#index_d">d</a></li><li><a href="..\functions_prop_e\index.html#index_e">e</a></li><li><a href="..\functions_prop_f\index.html#index_f">f</a></li><li><a href="..\functions_prop_g\index.html#index_g">g</a></li><li><a href="..\functions_prop_h\index.html#index_h">h</a></li><li><a href="..\functions_prop_i\index.html#index_i">i</a></li><li><a href="..\functions_prop_k\index.html#index_k">k</a></li><li><a href="..\functions_prop_l\index.html#index_l">l</a></li><li><a href="..\functions_prop_m\index.html#index_m">m</a></li><li><a href="..\functions_prop_n\index.html#index_n">n</a></li><li><a href="..\functions_prop_o\index.html#index_o">o</a></li><li><a href="..\functions_prop_p\index.html#index_p">p</a></li><li><a href="..\functions_prop_q\index.html#index_q">q</a></li><li><a href="..\functions_prop_r\index.html#index_r">r</a></li><li><a href="..\functions_prop_s\index.html#index_s">s</a></li><li><a href="..\functions_prop_t\index.html#index_t">t</a></li><li><a href="..\functions_prop_u\index.html#index_u">u</a></li><li><a href="..\functions_prop_v\index.html#index_v">v</a></li><li><a href="..\functions_prop_w\index.html#index_w">w</a></li><li><a href="..\functions_prop_x\index.html#index_x">x</a></li><li><a href="..\functions_prop_y\index.html#index_y">y</a></li><li><a href="..\functions_prop_z\index.html#index_z">z</a></li></ul></li><li><a aria-controls="sm-17470378651034922-20" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\functions_evnt\index.html" id="sm-17470378651034922-19">Events<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-19" id="sm-17470378651034922-20" role="group"><li><a href="..\functions_evnt\index.html#index_b">b</a></li><li><a href="..\functions_evnt\index.html#index_c">c</a></li><li><a href="..\functions_evnt\index.html#index_d">d</a></li><li><a href="..\functions_evnt\index.html#index_e">e</a></li><li><a href="..\functions_evnt\index.html#index_f">f</a></li><li><a href="..\functions_evnt\index.html#index_h">h</a></li><li><a href="..\functions_evnt\index.html#index_l">l</a></li><li><a href="..\functions_evnt\index.html#index_m">m</a></li><li><a href="..\functions_evnt\index.html#index_n">n</a></li><li><a href="..\functions_evnt\index.html#index_o">o</a></li><li><a href="..\functions_evnt\index.html#index_p">p</a></li><li><a href="..\functions_evnt\index.html#index_q">q</a></li><li><a href="..\functions_evnt\index.html#index_r">r</a></li><li><a href="..\functions_evnt\index.html#index_s">s</a></li><li><a href="..\functions_evnt\index.html#index_t">t</a></li><li><a href="..\functions_evnt\index.html#index_u">u</a></li></ul></li></ul></li></ul></li><li><a aria-controls="sm-17470378651034922-22" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\files\index.html" id="sm-17470378651034922-21">Files<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-21" id="sm-17470378651034922-22" role="group"><li><a href="..\files\index.html">File List</a></li><li><a aria-controls="sm-17470378651034922-24" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\globals\index.html" id="sm-17470378651034922-23">File Members<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378651034922-23" id="sm-17470378651034922-24" role="group"><li><a href="..\globals\index.html">All</a></li><li><a href="..\globals_type\index.html">Typedefs</a></li></ul></li></ul></li><li id="searchBoxPos2" style="float:right"><div class="MSearchBoxInactive" id="MSearchBox"><span class="left"><span id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()"> </span><input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" placeholder="Search" type="text" value=""/></span><span class="right"><a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose" style="display: none;"><img alt="" border="0" id="MSearchCloseImg" src="..\search\close.svg"/></a></span></div><doxygen-awesome-dark-mode-toggle title="Toggle Light/Dark Mode"><svg enable-background="new 0 0 24 24" fill="#FCBF00" height="24px" viewbox="0 0 24 24" width="24px" xmlns="http://www.w3.org/2000/svg"><rect fill="none" height="24" width="24"></rect><circle cx="12" cy="12" opacity=".3" r="3"></circle><path d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg></doxygen-awesome-dark-mode-toggle></li></ul></div>
</div><!-- top -->
<div class="ui-resizable side-nav-resizable" id="side-nav" style="width: 250px; height: 569px;">
<div id="nav-tree" style="height: 569px;">
<div id="nav-tree-contents">
<div class="sync" id="nav-sync" style="top: 5px;"><img src="..\sync_on.png" title="click to disable panel synchronisation"/></div>
<ul style="display: block;"><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 0px;">▼</span></a><span class="label"><a class="index.html" href="..\index.html">ATAS</a></span></div><ul class="children_ul" style="display: block;"><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="index.html" href="..\index.html">Introduction</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20010__BasicIndicator.html" href="..\md_DataFeedsCore_2Docs_2en_20010__BasicIndicator\index.html">Development of a user indicator</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20020__CustomizingOurIndicator.html" href="..\md_DataFeedsCore_2Docs_2en_20020__CustomizingOurIndicator\index.html">Customizing an indicator</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20025__ReceivingProcessingData.html" href="..\md_DataFeedsCore_2Docs_2en_20025__ReceivingProcessingData\index.html">Receiving and processing data</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20030__IndicatorEvents.html" href="..\md_DataFeedsCore_2Docs_2en_20030__IndicatorEvents\index.html">Working with trading events</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20040___01CompositeIndicators.html" href="..\md_DataFeedsCore_2Docs_2en_20040___01CompositeIndicators\index.html">Creating composite indicators</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20050__Dataseries.html" href="..\md_DataFeedsCore_2Docs_2en_20050__Dataseries\index.html">Dataseries</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20060__EmbeddedGraphicShapes.html" href="..\md_DataFeedsCore_2Docs_2en_20060__EmbeddedGraphicShapes\index.html">Embedded  collections of graphic shapes</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20070__Graphics.html" href="..\md_DataFeedsCore_2Docs_2en_20070__Graphics\index.html">Drawing</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20080__KeyboardMouse.html" href="..\md_DataFeedsCore_2Docs_2en_20080__KeyboardMouse\index.html">Working with the keyboard and mouse</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20095__ChartManaging.html" href="..\md_DataFeedsCore_2Docs_2en_20095__ChartManaging\index.html">Chart managing</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20097__ManagingIndicatorProperties.html" href="..\md_DataFeedsCore_2Docs_2en_20097__ManagingIndicatorProperties\index.html">Categories and Property Management in Indicator Settings</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20100__Strategies.html" href="..\md_DataFeedsCore_2Docs_2en_20100__Strategies\index.html">Strategies</a></span></div></li><li><div class="item selected" id="selected"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20110__ManagingOrders.html" href="">Managing orders in trading</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20115__IndicatorExamples.html" href="..\md_DataFeedsCore_2Docs_2en_20115__IndicatorExamples\index.html">Examples of indicators</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20120__StrategyExamples.html" href="..\md_DataFeedsCore_2Docs_2en_20120__StrategyExamples\index.html">Examples of strategies</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20130__AddingLogging.html" href="..\md_DataFeedsCore_2Docs_2en_20130__AddingLogging\index.html">Adding logging</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20135__DebugMode.html" href="..\md_DataFeedsCore_2Docs_2en_20135__DebugMode\index.html">Debug mode</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20140__IndicatorsStrategiesDistribution.html" href="..\md_DataFeedsCore_2Docs_2en_20140__IndicatorsStrategiesDistribution\index.html">Indicators and strategies distribution</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20150__AccessToIndicators.html" href="..\md_DataFeedsCore_2Docs_2en_20150__AccessToIndicators\index.html">Managing access to custom indicators</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="namespaces.html" href="..\namespaces\index.html">Packages</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="annotated.html" href="..\annotated\index.html">Classes</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="files.html" href="..\files\index.html">Files</a></span></div></li></ul></li></ul></div>
</div>
<div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;">
</div>
<div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_DataFeedsCore_2Docs_2en_20110__ManagingOrders.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content" style="margin-left: 256px; height: 569px;">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">•</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark"> </span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark"> </span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark"> </span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark"> </span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark"> </span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark"> </span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark"> </span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark"> </span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark"> </span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark"> </span>Events</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark"> </span>Pages</a></div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow" style="display: none;">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>
<div><div class="header">
<div class="headertitle"><div class="title">Managing orders in trading</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md57"></a> The main methods for managing orders include methods such as <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#add7c48f9ede9667aa7ba8a0f97344eab">OpenOrder</a>, <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#a01509c1de2aadb7994a819e41a5db29e">ModifyOrder</a>, <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#a3808947989c50df10ee357f597a2171a">CancelOrder</a>. By calling these methods, developers are essentially providing execution instructions. However, the exchange / trading connection does not guarantee that this instruction will be followed. They can be fulfilled completely, partially or with deviations.</p>
<p>To obtain information about what is happening with orders, developers can override methods such as <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a995541cf220d1ae25a69286f4fc66e16">OnOrderChanged</a>, <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a2ea44a2007103545463be80f85b515b5">OnOrderRegisterFailed</a>, <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a2a206383275db0490ffadcfc6580425e">OnOrderModifyFailed</a>, <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a733aec75e1b68396ff38bafc9de74af6">OnOrderCancelFailed</a>.</p>
<p>It is important to understand that these methods cause less response from the exchange/trading connection and may be on different threads and may sometimes use <a href="https://learn.microsoft.com/en-us/dotnet/standard/threading/overview-of-synchronization-primitives">sync methods</a>.</p>
<h1><a class="anchor" id="autotoc_md58"></a>
Using synchronous methods</h1>
<h2><a class="anchor" id="autotoc_md59"></a>
Order placing</h2>
<p>To place an order, use the <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#add7c48f9ede9667aa7ba8a0f97344eab">OpenOrder</a> method, to which the filled <a class="el" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> entity is passed.</p>
<p>An example of placing a market buy order with a volume of 1 lot: </p><div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line">var order = <span class="keyword">new</span> Order</div>
<div class="line">{</div>
<div class="line">    Portfolio = Portfolio,</div>
<div class="line">    Security = Security,</div>
<div class="line">    Direction = OrderDirections.Buy,</div>
<div class="line">    Type = OrderTypes.Market,</div>
<div class="line">    QuantityToFill = 1,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">OpenOrder(order);</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><p> An example of placing a limit order to sell at a price of 100 with a volume of 1 lot: </p><div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line">var order = <span class="keyword">new</span> Order</div>
<div class="line">{</div>
<div class="line">    Portfolio = Portfolio,</div>
<div class="line">    Security = Security,</div>
<div class="line">    Direction = OrderDirections.Sell,</div>
<div class="line">    Type = OrderTypes.Limit,</div>
<div class="line">    Price = 100,</div>
<div class="line">    QuantityToFill = 1,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">OpenOrder(order);</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><p> An example of placing a stop order to sell at a price of 100 with a volume of 1 lot: </p><div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line">var order = <span class="keyword">new</span> Order</div>
<div class="line">{</div>
<div class="line">    Portfolio = Portfolio,</div>
<div class="line">    Security = Security,</div>
<div class="line">    Direction = OrderDirections.Sell,</div>
<div class="line">    Type = OrderTypes.Stop,</div>
<div class="line">    TriggerPrice = 100,</div>
<div class="line">    QuantityToFill = 1,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">OpenOrder(order);</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><p> An example of placing a stop-limit order to sell at an activation price of 100 and a maximum execution price of 95, with a volume of 1 lot: </p><div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line">var order = <span class="keyword">new</span> Order</div>
<div class="line">{</div>
<div class="line">    Portfolio = Portfolio,</div>
<div class="line">    Security = Security,</div>
<div class="line">    Direction = OrderDirections.Sell,</div>
<div class="line">    Type = OrderTypes.StopLimit,</div>
<div class="line">    TriggerPrice = 100,</div>
<div class="line">    Price = 95,</div>
<div class="line">    QuantityToFill = 1,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">OpenOrder(order);</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><p>The <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#add7c48f9ede9667aa7ba8a0f97344eab">OpenOrder</a> method does not guarantee that an order will be placed, it only sends the order to the exchange. The sending result should be viewed in the <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a995541cf220d1ae25a69286f4fc66e16">OnOrderChanged</a> and <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a2ea44a2007103545463be80f85b515b5">OnOrderRegisterFailed</a> methods.</p>
<p>If the exchange rejects the application for placing an order, the <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a2ea44a2007103545463be80f85b515b5">OnOrderRegisterFailed</a> method will be called, which will receive a link to the original placed order and a message from the exchange.</p>
<p>In the process of placing an order and accepting it by the exchange, the exchange sends updates to this order. All order updates are sent to <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a995541cf220d1ae25a69286f4fc66e16">OnOrderChanged</a>. Through <a class="el" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">order.Status()</a> you can get the current state of the order.</p>
<p>An example of placing an order and controlling its placement: </p><div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1DataFeedsCore\index.html">ATAS.DataFeedsCore</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1Strategies_1_1Chart\index.html">ATAS.Strategies.Chart</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleStrategy : <a class="code hl_class" href="..\classATAS_1_1Strategies_1_1Chart_1_1ChartStrategy\index.html">ChartStrategy</a></div>
<div class="line">{</div>
<div class="line"> <span class="keyword">private</span> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> _order;</div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">bool</span> _firstTime = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (bar == CurrentBar - 1 &amp;&amp; _firstTime)</div>
<div class="line">        {</div>
<div class="line">            _firstTime = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">            _order = <span class="keyword">new</span> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a></div>
<div class="line">            {</div>
<div class="line"> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Portfolio\index.html">Portfolio</a> = <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Portfolio\index.html">Portfolio</a>,</div>
<div class="line"> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Security\index.html">Security</a> = <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Security\index.html">Security</a>,</div>
<div class="line">                Direction = <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a69bb1e00b8165b84d6c31a85dd8fdb7c">OrderDirections</a>.Buy,</div>
<div class="line">                Type = <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a33b9ecf5eb2da7746db45305a9d673f8">OrderTypes</a>.Limit,</div>
<div class="line">                Price = 100,</div>
<div class="line">                QuantityToFill = 1,</div>
<div class="line">            };</div>
<div class="line"> </div>
<div class="line">            OpenOrder(_order);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnOrderRegisterFailed(<a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> order, <span class="keywordtype">string</span> message)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (order == _order)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// order placement error, see message for details.</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnOrderChanged(<a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> order)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (order == _order)</div>
<div class="line">        {</div>
<div class="line"> <span class="keywordflow">switch</span> (order.Status())</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.None:</div>
<div class="line"> <span class="comment">// The order has an undefined status (you need to wait for the next method calls).</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.Placed:</div>
<div class="line"> <span class="comment">// the order is placed.</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.Filled:</div>
<div class="line"> <span class="comment">// the order is filled.</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.PartlyFilled:</div>
<div class="line"> <span class="comment">// the order is partially filled.</span></div>
<div class="line">                    {</div>
<div class="line">                        var unfilled = order.<a class="code hl_property" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#a44c573eb702b2f38ed8b8c80e19ac5a1">Unfilled</a>; <span class="comment">// this is a unfilled volume.</span></div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">                    }</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.Canceled:</div>
<div class="line"> <span class="comment">// the order is canceled.</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassATAS_1_1DataFeedsCore_1_1Order_html"><div class="ttname"><a href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">ATAS.DataFeedsCore.Order</a></div><div class="ttdoc">Represents an order for trading on a financial exchange.</div><div class="ttdef"><b>Definition</b> Order.cs:15</div></div>
<div class="ttc" id="aclassATAS_1_1DataFeedsCore_1_1Order_html_a44c573eb702b2f38ed8b8c80e19ac5a1"><div class="ttname"><a href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#a44c573eb702b2f38ed8b8c80e19ac5a1">ATAS.DataFeedsCore.Order.Unfilled</a></div><div class="ttdeci">decimal Unfilled</div><div class="ttdoc">Gets the remaining unfilled volume of the order.</div><div class="ttdef"><b>Definition</b> Order.cs:318</div></div>
<div class="ttc" id="aclassATAS_1_1DataFeedsCore_1_1Portfolio_html"><div class="ttname"><a href="..\classATAS_1_1DataFeedsCore_1_1Portfolio\index.html">ATAS.DataFeedsCore.Portfolio</a></div><div class="ttdoc">Represents a portfolio entity with various properties related to account balance, Profit and Loss (Pn...</div><div class="ttdef"><b>Definition</b> Portfolio.cs:20</div></div>
<div class="ttc" id="aclassATAS_1_1DataFeedsCore_1_1Security_html"><div class="ttname"><a href="..\classATAS_1_1DataFeedsCore_1_1Security\index.html">ATAS.DataFeedsCore.Security</a></div><div class="ttdoc">Represents a security entity used in the application.</div><div class="ttdef"><b>Definition</b> Security.cs:16</div></div>
<div class="ttc" id="aclassATAS_1_1Strategies_1_1Chart_1_1ChartStrategy_html"><div class="ttname"><a href="..\classATAS_1_1Strategies_1_1Chart_1_1ChartStrategy\index.html">ATAS.Strategies.Chart.ChartStrategy</a></div><div class="ttdoc">Represents an abstract class for a chart strategy that extends the functionality of an Indicator and ...</div><div class="ttdef"><b>Definition</b> ChartStrategy.cs:27</div></div>
<div class="ttc" id="anamespaceATAS_1_1DataFeedsCore_html"><div class="ttname"><a href="..\namespaceATAS_1_1DataFeedsCore\index.html">ATAS.DataFeedsCore</a></div><div class="ttdef"><b>Definition</b> AsyncConnector.cs:2</div></div>
<div class="ttc" id="anamespaceATAS_1_1DataFeedsCore_html_a33b9ecf5eb2da7746db45305a9d673f8"><div class="ttname"><a href="..\namespaceATAS_1_1DataFeedsCore\index.html#a33b9ecf5eb2da7746db45305a9d673f8">ATAS.DataFeedsCore.OrderTypes</a></div><div class="ttdeci">OrderTypes</div><div class="ttdoc">Specifies the type of an order.</div><div class="ttdef"><b>Definition</b> OrderTypes.cs:7</div></div>
<div class="ttc" id="anamespaceATAS_1_1DataFeedsCore_html_a66b4e891b490d55021aebd694f57284b"><div class="ttname"><a href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">ATAS.DataFeedsCore.OrderStatus</a></div><div class="ttdeci">OrderStatus</div><div class="ttdoc">Represents the possible status of an order.</div><div class="ttdef"><b>Definition</b> OrderStates.cs:33</div></div>
<div class="ttc" id="anamespaceATAS_1_1DataFeedsCore_html_a69bb1e00b8165b84d6c31a85dd8fdb7c"><div class="ttname"><a href="..\namespaceATAS_1_1DataFeedsCore\index.html#a69bb1e00b8165b84d6c31a85dd8fdb7c">ATAS.DataFeedsCore.OrderDirections</a></div><div class="ttdeci">OrderDirections</div><div class="ttdoc">Specifies the direction of an order.</div><div class="ttdef"><b>Definition</b> OrderDirections.cs:7</div></div>
<div class="ttc" id="anamespaceATAS_1_1Strategies_1_1Chart_html"><div class="ttname"><a href="..\namespaceATAS_1_1Strategies_1_1Chart\index.html">ATAS.Strategies.Chart</a></div><div class="ttdef"><b>Definition</b> ChartStrategy.cs:2</div></div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><h2><a class="anchor" id="autotoc_md60"></a>
Order changing</h2>
<p>To change an placed order, you need to create a copy of this order, change the price or volume in it and call <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#a01509c1de2aadb7994a819e41a5db29e">ModifyOrder</a>, passing the old order and the new one as parameters. We also need to remember that if we store a link to the old order, then when modifying we need to assign our field a link to the new order.</p>
<p>If the <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a2a206383275db0490ffadcfc6580425e">OnOrderModifyFailed</a> method receives an order previously sent for modification, then the modification was impossible for some reason.</p>
<p>The order change status should be tracked in <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a995541cf220d1ae25a69286f4fc66e16">OnOrderChanged</a>.</p>
<p>In the example of changing an order, it is assumed that the <code>_order</code> object contains an order that is active at the time of launch: </p><div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1DataFeedsCore\index.html">ATAS.DataFeedsCore</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1Strategies_1_1Chart\index.html">ATAS.Strategies.Chart</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleStrategy : <a class="code hl_class" href="..\classATAS_1_1Strategies_1_1Chart_1_1ChartStrategy\index.html">ChartStrategy</a></div>
<div class="line">{</div>
<div class="line"> <span class="keyword">private</span> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> _order;</div>
<div class="line"> <span class="keyword">private</span> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> _newOrder;</div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">bool</span> _firstTime = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (bar == CurrentBar - 1 &amp;&amp; _firstTime)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// Here we receive a signal and open an order.</span></div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Here the conditions under which you need to change the order price have been met.</span></div>
<div class="line"> </div>
<div class="line">            _newOrder = _order.<a class="code hl_function" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#add3d16e72bec14afd534d7c25146f0bb">Clone</a>();</div>
<div class="line">            _newOrder.Price = 200;</div>
<div class="line">            ModifyOrder(_order, _newOrder);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnOrderModifyFailed(<a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> order, <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> newOrder, <span class="keywordtype">string</span> error)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (order == _order)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// Here it will be clear that it was not possible to change _order.</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnOrderChanged(<a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> order)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (order == _newOrder)</div>
<div class="line">        {</div>
<div class="line"> <span class="keywordflow">switch</span> (order.Status())</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.None:</div>
<div class="line"> <span class="comment">// The order has an undefined status (you need to wait for the next method calls).</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.Placed:</div>
<div class="line"> <span class="comment">// the new order has been placed, the change was successful.</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.Filled:</div>
<div class="line"> <span class="comment">// the order was placed and filled.</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.PartlyFilled:</div>
<div class="line"> <span class="comment">// the order is partially filled.</span></div>
<div class="line">                    {</div>
<div class="line">                        var unfilled = order.<a class="code hl_property" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#a44c573eb702b2f38ed8b8c80e19ac5a1">Unfilled</a>; <span class="comment">// this is a unfilled volume.</span></div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">                    }</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.Canceled:</div>
<div class="line"> <span class="comment">// the order is canceled.</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassATAS_1_1DataFeedsCore_1_1Order_html_add3d16e72bec14afd534d7c25146f0bb"><div class="ttname"><a href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#add3d16e72bec14afd534d7c25146f0bb">ATAS.DataFeedsCore.Order.Clone</a></div><div class="ttdeci">Order Clone()</div><div class="ttdoc">Creates a shallow copy of the current order.</div><div class="ttdef"><b>Definition</b> Order.cs:637</div></div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><h2><a class="anchor" id="autotoc_md61"></a>
Order canceling</h2>
<p><a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#a3808947989c50df10ee357f597a2171a">CancelOrder</a> sends an instruction to the exchange to cancel the order. There is also no guarantee of successful cancellation, so you need to track the status of orders in the <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a733aec75e1b68396ff38bafc9de74af6">OnOrderCancelFailed</a> and <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a995541cf220d1ae25a69286f4fc66e16">OnOrderChanged</a> methods.</p>
<p>Before sending a <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#a3808947989c50df10ee357f597a2171a">CancelOrder</a>, it is recommended to ensure that the <a class="el" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#a5c93a3af2be3df8bdb85944b42eb4527">State</a> of the order is equal to <a class="el" href="..\namespaceATAS_1_1DataFeedsCore\index.html#af7d44e82c8115dab7b27c5d8ce102716">OrderStates.Active</a>.</p>
<p>In the order cancellation example, it is assumed that the <code>_order</code> object contains an order that is active at the time of launch: </p><div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1DataFeedsCore\index.html">ATAS.DataFeedsCore</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1Strategies_1_1Chart\index.html">ATAS.Strategies.Chart</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleStrategy : <a class="code hl_class" href="..\classATAS_1_1Strategies_1_1Chart_1_1ChartStrategy\index.html">ChartStrategy</a></div>
<div class="line">{</div>
<div class="line"> <span class="keyword">private</span> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> _order;</div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">bool</span> _firstTime = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (bar == CurrentBar - 1 &amp;&amp; _firstTime)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// Here the conditions under which we need to cancel our order have been met.</span></div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">if</span> (_order.<a class="code hl_property" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#a5c93a3af2be3df8bdb85944b42eb4527">State</a> == <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#af7d44e82c8115dab7b27c5d8ce102716">OrderStates</a>.Active)</div>
<div class="line">            {</div>
<div class="line">                CancelOrder(_order);</div>
<div class="line"> </div>
<div class="line">                _firstTime = <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnOrderCancelFailed(<a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> order, <span class="keywordtype">string</span> message)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (order == _order)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// Here it will be clear that cancel _order did not work.</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnOrderChanged(<a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> order)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (order == _order &amp;&amp; order.Status() == <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.<a class="code hl_property" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#adf869a13c842cedd0d85c54ba69c1aca">Canceled</a>)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// Here it will be clear that the _order was successfully canceled.</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassATAS_1_1DataFeedsCore_1_1Order_html_a5c93a3af2be3df8bdb85944b42eb4527"><div class="ttname"><a href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#a5c93a3af2be3df8bdb85944b42eb4527">ATAS.DataFeedsCore.Order.State</a></div><div class="ttdeci">OrderStates State</div><div class="ttdoc">Gets or sets the current state of the order.</div><div class="ttdef"><b>Definition</b> Order.cs:504</div></div>
<div class="ttc" id="aclassATAS_1_1DataFeedsCore_1_1Order_html_adf869a13c842cedd0d85c54ba69c1aca"><div class="ttname"><a href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#adf869a13c842cedd0d85c54ba69c1aca">ATAS.DataFeedsCore.Order.Canceled</a></div><div class="ttdeci">bool Canceled</div><div class="ttdoc">Gets a value indicating whether the order is canceled.</div><div class="ttdef"><b>Definition</b> Order.cs:572</div></div>
<div class="ttc" id="anamespaceATAS_1_1DataFeedsCore_html_af7d44e82c8115dab7b27c5d8ce102716"><div class="ttname"><a href="..\namespaceATAS_1_1DataFeedsCore\index.html#af7d44e82c8115dab7b27c5d8ce102716">ATAS.DataFeedsCore.OrderStates</a></div><div class="ttdeci">OrderStates</div><div class="ttdoc">Represents the possible states of an order.</div><div class="ttdef"><b>Definition</b> OrderStates.cs:7</div></div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><h1><a class="anchor" id="autotoc_md62"></a>
Using asynchronous methods</h1>
<p>You can use asynchronous order management methods just like synchronous ones, and getting the results becomes more convenient.</p>
<p>Now there is no need to track the result in the <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#abcf82eac51543b99ff8b97d52785b9fc">OnNewOrder</a>, <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a995541cf220d1ae25a69286f4fc66e16">OnOrderChanged</a>, <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a2ea44a2007103545463be80f85b515b5">OnOrderRegisterFailed</a>, <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a2a206383275db0490ffadcfc6580425e">OnOrderModifyFailed</a> and <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a733aec75e1b68396ff38bafc9de74af6">OnOrderCancelFailed</a> methods. Opening, canceling or modifying an order must be placed in a <code>try-catch</code> block.</p>
<p>It must be remembered that the result can still be both successful and unsuccessful. If the result was successful, in the code below we can find out the status of the order or perform other necessary actions. If the result is unsuccessful, an exception is thrown and we can intercept it in the <code>catch</code> block.</p>
<p>It should also be noted that if you have active limit or stop limit orders, the moment when their state or status changes can be found in <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a995541cf220d1ae25a69286f4fc66e16">OnOrderChanged</a>.</p>
<h2><a class="anchor" id="autotoc_md63"></a>
Order placing</h2>
<p>Using <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#a2c7f2e85bf2f50e4d49397eccbba4e0f">OpenOrderAsync</a>:</p>
<div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1DataFeedsCore\index.html">ATAS.DataFeedsCore</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1Strategies_1_1Chart\index.html">ATAS.Strategies.Chart</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleStrategy : <a class="code hl_class" href="..\classATAS_1_1Strategies_1_1Chart_1_1ChartStrategy\index.html">ChartStrategy</a></div>
<div class="line">{</div>
<div class="line"> <span class="keyword">private</span> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> _order;</div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">bool</span> _firstTime = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (bar == CurrentBar - 1 &amp;&amp; _firstTime)</div>
<div class="line">        {</div>
<div class="line">            _firstTime = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">            _order = <span class="keyword">new</span> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a></div>
<div class="line">            {</div>
<div class="line"> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Portfolio\index.html">Portfolio</a> = <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Portfolio\index.html">Portfolio</a>,</div>
<div class="line"> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Security\index.html">Security</a> = <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Security\index.html">Security</a>,</div>
<div class="line">                Direction = <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a69bb1e00b8165b84d6c31a85dd8fdb7c">OrderDirections</a>.Buy,</div>
<div class="line">                Type = <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a33b9ecf5eb2da7746db45305a9d673f8">OrderTypes</a>.Limit,</div>
<div class="line">                Price = 100,</div>
<div class="line">                QuantityToFill = 1,</div>
<div class="line">            };</div>
<div class="line"> </div>
<div class="line">            OpenPositionAsync(_order);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> async Task OpenPositionAsync(<a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> order)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            await OpenOrderAsync(order);</div>
<div class="line"> </div>
<div class="line"> <span class="comment">//  If there was no error and the order was placed, below we can track the positive result of placing the order.</span></div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">switch</span> (order.Status())</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.Placed:</div>
<div class="line"> <span class="comment">// the order is placed.</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.Filled:</div>
<div class="line"> <span class="comment">// the order is filled.</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a66b4e891b490d55021aebd694f57284b">OrderStatus</a>.PartlyFilled:</div>
<div class="line"> <span class="comment">// the order is partially filled.</span></div>
<div class="line"> </div>
<div class="line">                    var unfilled = order.<a class="code hl_property" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#a44c573eb702b2f38ed8b8c80e19ac5a1">Unfilled</a>; <span class="comment">// this is an unfilled volume.</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// Here we find out that the order could not be opened.</span></div>
<div class="line"> <span class="comment">// As an option, we will output an error message to the log.</span></div>
<div class="line"> </div>
<div class="line">            this.LogInfo($<span class="stringliteral">"Open position error: {ex.Message}."</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><h2><a class="anchor" id="autotoc_md64"></a>
Order changing</h2>
<p>Using <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#abc6a4b39d9ba1383fcfda9ce45588085">ModifyOrderAsync</a>:</p>
<div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1DataFeedsCore\index.html">ATAS.DataFeedsCore</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1Strategies_1_1Chart\index.html">ATAS.Strategies.Chart</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleStrategy : <a class="code hl_class" href="..\classATAS_1_1Strategies_1_1Chart_1_1ChartStrategy\index.html">ChartStrategy</a></div>
<div class="line">{</div>
<div class="line"> <span class="keyword">private</span> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> _order;</div>
<div class="line"> <span class="keyword">private</span> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> _newOrder;</div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">bool</span> _firstTime = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (bar == CurrentBar - 1 &amp;&amp; _firstTime)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// Here we receive a signal and open an order.</span></div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Here the conditions under which you need to change the order price have been met.</span></div>
<div class="line"> </div>
<div class="line">            ChangeOrderAsync();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> async Task ChangeOrderAsync()</div>
<div class="line">    {</div>
<div class="line">        _newOrder = _order.<a class="code hl_function" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#add3d16e72bec14afd534d7c25146f0bb">Clone</a>();</div>
<div class="line">        _newOrder.Price = 200;</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            await ModifyOrderAsync(_order, _newOrder);</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Here we find out that the order changes were successful.</span></div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// Here we find out that the order could not be changed.</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><h2><a class="anchor" id="autotoc_md65"></a>
Order canceling</h2>
<p>Using <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#a9f15690af8db637605ba5a7aaeaa5deb">CancelOrderAsync</a>:</p>
<div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1DataFeedsCore\index.html">ATAS.DataFeedsCore</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1Strategies_1_1Chart\index.html">ATAS.Strategies.Chart</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleStrategy : <a class="code hl_class" href="..\classATAS_1_1Strategies_1_1Chart_1_1ChartStrategy\index.html">ChartStrategy</a></div>
<div class="line">{</div>
<div class="line"> <span class="keyword">private</span> <a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> _order;</div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">bool</span> _firstTime = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (bar == CurrentBar - 1 &amp;&amp; _firstTime)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// Here the conditions under which we need to cancel our order have been met.</span></div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">if</span> (_order.<a class="code hl_property" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html#a5c93a3af2be3df8bdb85944b42eb4527">State</a> == <a class="code hl_enumeration" href="..\namespaceATAS_1_1DataFeedsCore\index.html#af7d44e82c8115dab7b27c5d8ce102716">OrderStates</a>.Active)</div>
<div class="line">            {</div>
<div class="line">                TryCancelOrderAsync();</div>
<div class="line"> </div>
<div class="line">                _firstTime = <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> async Task TryCancelOrderAsync()</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            await CancelOrderAsync(_order);</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Here we know that the order was canceled successfully.   </span></div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// Here we find out that the order could not be canceled.</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><h1><a class="anchor" id="autotoc_md66"></a>
Points to consider</h1>
<p>Since the API provides an asynchronous mechanism for working with trading functions, this must be taken into account during development.</p>
<p>Some common mistakes when working with an asynchronous approach:</p><ul>
<li>In the strategy, a trigger to cancel an order is triggered, and the algorithm calls <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#a3808947989c50df10ee357f597a2171a">CancelOrder</a>. While the response has not arrived from the exchange, the trigger fires again and the algorithm again sends the <a class="el" href="..\interfaceATAS_1_1Strategies_1_1Chart_1_1IChartStrategy\index.html#a3808947989c50df10ee357f597a2171a">CancelOrder</a> request to the exchange. As a result, the second request will be rejected by the exchange.</li>
<li>The strategy fires a trigger to open a position, the algorithm checks <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a9bf909bec2b2dbc0eabd721c212285ff">CurrentPosition</a>, which is equal to zero, and sends a market order. While the response has not come from the exchange and the value of the position has not been updated, the trigger fires again and another market order is sent, which ultimately leads to an increase in risks.</li>
<li>In the strategy, a trigger to close a position is triggered, the algorithm checks <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a9bf909bec2b2dbc0eabd721c212285ff">CurrentPosition</a>, creates a closing order with a volume equal to <a class="el" href="..\classATAS_1_1Strategies_1_1Strategy\index.html#a9bf909bec2b2dbc0eabd721c212285ff">CurrentPositions</a>, and sends this order. While the response has not come from the exchange and the value of the position has not been updated, the trigger fires again and another market order is sent, which ultimately leads not to the closing of the position, but to its reversal. It is important to understand that order statuses and positions arrive asynchronously as a response is received from the exchange. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.7-->
<!-- start footer part -->
<div class="navpath" id="nav-path"><!-- id is needed for treeview function! -->
<ul>
<li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img alt="doxygen" class="footer" height="31" src="..\doxygen.svg" width="104"/></a> 1.9.7 </li>
<li class="footer"><a href="https://t.me/+Afb9R7MEDqY3MDUy"><img alt="telegram group" class="footer_tg" height="31" src="..\tg_logo.svg" width="31"/> Join our developers chat</a> </li>
</ul>
</div>
</body></html>