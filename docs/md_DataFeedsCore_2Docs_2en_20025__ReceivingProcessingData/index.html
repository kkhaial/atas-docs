<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html class="light-mode" xmlns="http://www.w3.org/1999/xhtml"><head>
<meta content="text/xhtml;charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=9" http-equiv="X-UA-Compatible"/>
<meta content="Doxygen 1.9.7" name="generator"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>ATAS: Receiving and processing data</title>
<link href="..\tabs.css" rel="stylesheet" type="text/css"/>
<script src="..\jquery.js" type="text/javascript"></script>
<script src="..\dynsections.js" type="text/javascript"></script>
<script src="..\atas_custom.js" type="text/javascript"></script>
<script src="..\doxygen-awesome-darkmode-toggle.js" type="text/javascript"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script src="..\doxygen-awesome-fragment-copy-button.js" type="text/javascript"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<link href="..\navtree.css" rel="stylesheet" type="text/css"/>
<script src="..\resize.js" type="text/javascript"></script>
<script src="..\navtreedata.js" type="text/javascript"></script>
<script src="..\navtree.js" type="text/javascript"></script>
<link href="..\search\search.css" rel="stylesheet" type="text/css"/>
<script src="..\search\searchdata.js" type="text/javascript"></script>
<script src="..\search\search.js" type="text/javascript"></script>
<link href="..\doxygen.css" rel="stylesheet" type="text/css"/>
<link href="..\doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="..\doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="..\doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="..\atas_style.css" rel="stylesheet" type="text/css"/>
<script id="navtreeindex29" src="..\navtreeindex29.js" type="text/javascript"></script></head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="cursor: pointer;">
<table cellpadding="0" cellspacing="0">
<tbody>
<tr style="height: 56px;">
<td id="projectlogo"><img alt="Logo" src="..\icon.ico"/></td>
<td id="projectalign" style="padding-left: 0.5em;">
<div id="projectname">ATAS
   </div>
</td>
</tr>
</tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script src="..\menudata.js" type="text/javascript"></script>
<script src="..\menu.js" type="text/javascript"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div class="sm sm-dox"><input id="main-menu-state" type="checkbox"/><label class="main-menu-btn" for="main-menu-state"><span class="main-menu-btn-icon"></span> Toggle main menu visibility</label><span id="searchBoxPos1" style="position:absolute;right:8px;top:8px;height:36px;"></span></div><div id="main-nav"><ul class="sm sm-dox" data-smartmenus-id="17470378532945798" id="main-menu"><li><a href="..\pages\index.html">Related Pages</a></li><li><a aria-controls="sm-17470378532945798-2" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\namespaces\index.html" id="sm-17470378532945798-1">Packages<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-1" id="sm-17470378532945798-2" role="group"><li><a href="..\namespaces\index.html">Package List</a></li><li><a aria-controls="sm-17470378532945798-4" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\namespacemembers\index.html" id="sm-17470378532945798-3">Package Members<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-3" id="sm-17470378532945798-4" role="group"><li><a aria-controls="sm-17470378532945798-6" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\namespacemembers\index.html" id="sm-17470378532945798-5">All<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-5" id="sm-17470378532945798-6" role="group"><li><a href="..\namespacemembers\index.html#index_b">b</a></li><li><a href="..\namespacemembers\index.html#index_c">c</a></li><li><a href="..\namespacemembers\index.html#index_d">d</a></li><li><a href="..\namespacemembers\index.html#index_e">e</a></li><li><a href="..\namespacemembers\index.html#index_f">f</a></li><li><a href="..\namespacemembers\index.html#index_h">h</a></li><li><a href="..\namespacemembers\index.html#index_i">i</a></li><li><a href="..\namespacemembers\index.html#index_m">m</a></li><li><a href="..\namespacemembers\index.html#index_n">n</a></li><li><a href="..\namespacemembers\index.html#index_o">o</a></li><li><a href="..\namespacemembers\index.html#index_p">p</a></li><li><a href="..\namespacemembers\index.html#index_r">r</a></li><li><a href="..\namespacemembers\index.html#index_s">s</a></li><li><a href="..\namespacemembers\index.html#index_t">t</a></li><li><a href="..\namespacemembers\index.html#index_u">u</a></li><li><a href="..\namespacemembers\index.html#index_v">v</a></li></ul></li><li><a href="..\namespacemembers_func\index.html">Functions</a></li><li><a href="..\namespacemembers_vars\index.html">Variables</a></li><li><a href="..\namespacemembers_type\index.html">Typedefs</a></li><li><a aria-controls="sm-17470378532945798-8" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\namespacemembers_enum\index.html" id="sm-17470378532945798-7">Enumerations<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-7" id="sm-17470378532945798-8" role="group"><li><a href="..\namespacemembers_enum\index.html#index_c">c</a></li><li><a href="..\namespacemembers_enum\index.html#index_d">d</a></li><li><a href="..\namespacemembers_enum\index.html#index_e">e</a></li><li><a href="..\namespacemembers_enum\index.html#index_f">f</a></li><li><a href="..\namespacemembers_enum\index.html#index_m">m</a></li><li><a href="..\namespacemembers_enum\index.html#index_n">n</a></li><li><a href="..\namespacemembers_enum\index.html#index_o">o</a></li><li><a href="..\namespacemembers_enum\index.html#index_p">p</a></li><li><a href="..\namespacemembers_enum\index.html#index_r">r</a></li><li><a href="..\namespacemembers_enum\index.html#index_s">s</a></li><li><a href="..\namespacemembers_enum\index.html#index_t">t</a></li><li><a href="..\namespacemembers_enum\index.html#index_u">u</a></li><li><a href="..\namespacemembers_enum\index.html#index_v">v</a></li></ul></li></ul></li></ul></li><li><a aria-controls="sm-17470378532945798-10" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\annotated\index.html" id="sm-17470378532945798-9">Classes<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-9" id="sm-17470378532945798-10" role="group"><li><a href="..\annotated\index.html">Class List</a></li><li><a href="..\classes\index.html">Class Index</a></li><li><a href="..\inherits\index.html">Class Hierarchy</a></li><li><a aria-controls="sm-17470378532945798-12" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\functions\index.html" id="sm-17470378532945798-11">Class Members<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-11" id="sm-17470378532945798-12" role="group"><li><a aria-controls="sm-17470378532945798-14" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\functions\index.html" id="sm-17470378532945798-13">All<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-13" id="sm-17470378532945798-14" role="group"><li><a href="..\functions\index.html#index__5F">_</a></li><li><a href="..\functions_a\index.html#index_a">a</a></li><li><a href="..\functions_b\index.html#index_b">b</a></li><li><a href="..\functions_c\index.html#index_c">c</a></li><li><a href="..\functions_d\index.html#index_d">d</a></li><li><a href="..\functions_e\index.html#index_e">e</a></li><li><a href="..\functions_f\index.html#index_f">f</a></li><li><a href="..\functions_g\index.html#index_g">g</a></li><li><a href="..\functions_h\index.html#index_h">h</a></li><li><a href="..\functions_i\index.html#index_i">i</a></li><li><a href="..\functions_k\index.html#index_k">k</a></li><li><a href="..\functions_l\index.html#index_l">l</a></li><li><a href="..\functions_m\index.html#index_m">m</a></li><li><a href="..\functions_n\index.html#index_n">n</a></li><li><a href="..\functions_o\index.html#index_o">o</a></li><li><a href="..\functions_p\index.html#index_p">p</a></li><li><a href="..\functions_q\index.html#index_q">q</a></li><li><a href="..\functions_r\index.html#index_r">r</a></li><li><a href="..\functions_s\index.html#index_s">s</a></li><li><a href="..\functions_t\index.html#index_t">t</a></li><li><a href="..\functions_u\index.html#index_u">u</a></li><li><a href="..\functions_v\index.html#index_v">v</a></li><li><a href="..\functions_w\index.html#index_w">w</a></li><li><a href="..\functions_x\index.html#index_x">x</a></li><li><a href="..\functions_y\index.html#index_y">y</a></li><li><a href="..\functions_z\index.html#index_z">z</a></li></ul></li><li><a aria-controls="sm-17470378532945798-16" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\functions_func\index.html" id="sm-17470378532945798-15">Functions<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-15" id="sm-17470378532945798-16" role="group"><li><a href="..\functions_func\index.html#index_a">a</a></li><li><a href="..\functions_func_b\index.html#index_b">b</a></li><li><a href="..\functions_func_c\index.html#index_c">c</a></li><li><a href="..\functions_func_d\index.html#index_d">d</a></li><li><a href="..\functions_func_e\index.html#index_e">e</a></li><li><a href="..\functions_func_f\index.html#index_f">f</a></li><li><a href="..\functions_func_g\index.html#index_g">g</a></li><li><a href="..\functions_func_h\index.html#index_h">h</a></li><li><a href="..\functions_func_i\index.html#index_i">i</a></li><li><a href="..\functions_func_l\index.html#index_l">l</a></li><li><a href="..\functions_func_m\index.html#index_m">m</a></li><li><a href="..\functions_func_n\index.html#index_n">n</a></li><li><a href="..\functions_func_o\index.html#index_o">o</a></li><li><a href="..\functions_func_p\index.html#index_p">p</a></li><li><a href="..\functions_func_r\index.html#index_r">r</a></li><li><a href="..\functions_func_s\index.html#index_s">s</a></li><li><a href="..\functions_func_t\index.html#index_t">t</a></li><li><a href="..\functions_func_u\index.html#index_u">u</a></li><li><a href="..\functions_func_v\index.html#index_v">v</a></li><li><a href="..\functions_func_w\index.html#index_w">w</a></li></ul></li><li><a href="..\functions_vars\index.html">Variables</a></li><li><a href="..\functions_enum\index.html">Enumerations</a></li><li><a aria-controls="sm-17470378532945798-18" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\functions_prop\index.html" id="sm-17470378532945798-17">Properties<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-17" id="sm-17470378532945798-18" role="group"><li><a href="..\functions_prop\index.html#index_a">a</a></li><li><a href="..\functions_prop_b\index.html#index_b">b</a></li><li><a href="..\functions_prop_c\index.html#index_c">c</a></li><li><a href="..\functions_prop_d\index.html#index_d">d</a></li><li><a href="..\functions_prop_e\index.html#index_e">e</a></li><li><a href="..\functions_prop_f\index.html#index_f">f</a></li><li><a href="..\functions_prop_g\index.html#index_g">g</a></li><li><a href="..\functions_prop_h\index.html#index_h">h</a></li><li><a href="..\functions_prop_i\index.html#index_i">i</a></li><li><a href="..\functions_prop_k\index.html#index_k">k</a></li><li><a href="..\functions_prop_l\index.html#index_l">l</a></li><li><a href="..\functions_prop_m\index.html#index_m">m</a></li><li><a href="..\functions_prop_n\index.html#index_n">n</a></li><li><a href="..\functions_prop_o\index.html#index_o">o</a></li><li><a href="..\functions_prop_p\index.html#index_p">p</a></li><li><a href="..\functions_prop_q\index.html#index_q">q</a></li><li><a href="..\functions_prop_r\index.html#index_r">r</a></li><li><a href="..\functions_prop_s\index.html#index_s">s</a></li><li><a href="..\functions_prop_t\index.html#index_t">t</a></li><li><a href="..\functions_prop_u\index.html#index_u">u</a></li><li><a href="..\functions_prop_v\index.html#index_v">v</a></li><li><a href="..\functions_prop_w\index.html#index_w">w</a></li><li><a href="..\functions_prop_x\index.html#index_x">x</a></li><li><a href="..\functions_prop_y\index.html#index_y">y</a></li><li><a href="..\functions_prop_z\index.html#index_z">z</a></li></ul></li><li><a aria-controls="sm-17470378532945798-20" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\functions_evnt\index.html" id="sm-17470378532945798-19">Events<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-19" id="sm-17470378532945798-20" role="group"><li><a href="..\functions_evnt\index.html#index_b">b</a></li><li><a href="..\functions_evnt\index.html#index_c">c</a></li><li><a href="..\functions_evnt\index.html#index_d">d</a></li><li><a href="..\functions_evnt\index.html#index_e">e</a></li><li><a href="..\functions_evnt\index.html#index_f">f</a></li><li><a href="..\functions_evnt\index.html#index_h">h</a></li><li><a href="..\functions_evnt\index.html#index_l">l</a></li><li><a href="..\functions_evnt\index.html#index_m">m</a></li><li><a href="..\functions_evnt\index.html#index_n">n</a></li><li><a href="..\functions_evnt\index.html#index_o">o</a></li><li><a href="..\functions_evnt\index.html#index_p">p</a></li><li><a href="..\functions_evnt\index.html#index_q">q</a></li><li><a href="..\functions_evnt\index.html#index_r">r</a></li><li><a href="..\functions_evnt\index.html#index_s">s</a></li><li><a href="..\functions_evnt\index.html#index_t">t</a></li><li><a href="..\functions_evnt\index.html#index_u">u</a></li></ul></li></ul></li></ul></li><li><a aria-controls="sm-17470378532945798-22" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\files\index.html" id="sm-17470378532945798-21">Files<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-21" id="sm-17470378532945798-22" role="group"><li><a href="..\files\index.html">File List</a></li><li><a aria-controls="sm-17470378532945798-24" aria-expanded="false" aria-haspopup="true" class="has-submenu" href="..\globals\index.html" id="sm-17470378532945798-23">File Members<span class="sub-arrow"></span></a><ul aria-expanded="false" aria-hidden="true" aria-labelledby="sm-17470378532945798-23" id="sm-17470378532945798-24" role="group"><li><a href="..\globals\index.html">All</a></li><li><a href="..\globals_type\index.html">Typedefs</a></li></ul></li></ul></li><li id="searchBoxPos2" style="float:right"><div class="MSearchBoxInactive" id="MSearchBox"><span class="left"><span id="MSearchSelect" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()"> </span><input accesskey="S" id="MSearchField" onblur="searchBox.OnSearchFieldFocus(false)" onfocus="searchBox.OnSearchFieldFocus(true)" onkeyup="searchBox.OnSearchFieldChange(event)" placeholder="Search" type="text" value=""/></span><span class="right"><a href="javascript:searchBox.CloseResultsWindow()" id="MSearchClose" style="display: none;"><img alt="" border="0" id="MSearchCloseImg" src="..\search\close.svg"/></a></span></div><doxygen-awesome-dark-mode-toggle title="Toggle Light/Dark Mode"><svg enable-background="new 0 0 24 24" fill="#FCBF00" height="24px" viewbox="0 0 24 24" width="24px" xmlns="http://www.w3.org/2000/svg"><rect fill="none" height="24" width="24"></rect><circle cx="12" cy="12" opacity=".3" r="3"></circle><path d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg></doxygen-awesome-dark-mode-toggle></li></ul></div>
</div><!-- top -->
<div class="ui-resizable side-nav-resizable" id="side-nav" style="width: 250px; height: 569px;">
<div id="nav-tree" style="height: 569px;">
<div id="nav-tree-contents">
<div class="sync" id="nav-sync" style="top: 5px;"><img src="..\sync_on.png" title="click to disable panel synchronisation"/></div>
<ul style="display: block;"><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 0px;">▼</span></a><span class="label"><a class="index.html" href="..\index.html">ATAS</a></span></div><ul class="children_ul" style="display: block;"><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="index.html" href="..\index.html">Introduction</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20010__BasicIndicator.html" href="..\md_DataFeedsCore_2Docs_2en_20010__BasicIndicator\index.html">Development of a user indicator</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20020__CustomizingOurIndicator.html" href="..\md_DataFeedsCore_2Docs_2en_20020__CustomizingOurIndicator\index.html">Customizing an indicator</a></span></div></li><li><div class="item selected" id="selected"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20025__ReceivingProcessingData.html" href="">Receiving and processing data</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20030__IndicatorEvents.html" href="..\md_DataFeedsCore_2Docs_2en_20030__IndicatorEvents\index.html">Working with trading events</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20040___01CompositeIndicators.html" href="..\md_DataFeedsCore_2Docs_2en_20040___01CompositeIndicators\index.html">Creating composite indicators</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20050__Dataseries.html" href="..\md_DataFeedsCore_2Docs_2en_20050__Dataseries\index.html">Dataseries</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20060__EmbeddedGraphicShapes.html" href="..\md_DataFeedsCore_2Docs_2en_20060__EmbeddedGraphicShapes\index.html">Embedded  collections of graphic shapes</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20070__Graphics.html" href="..\md_DataFeedsCore_2Docs_2en_20070__Graphics\index.html">Drawing</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20080__KeyboardMouse.html" href="..\md_DataFeedsCore_2Docs_2en_20080__KeyboardMouse\index.html">Working with the keyboard and mouse</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20095__ChartManaging.html" href="..\md_DataFeedsCore_2Docs_2en_20095__ChartManaging\index.html">Chart managing</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20097__ManagingIndicatorProperties.html" href="..\md_DataFeedsCore_2Docs_2en_20097__ManagingIndicatorProperties\index.html">Categories and Property Management in Indicator Settings</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20100__Strategies.html" href="..\md_DataFeedsCore_2Docs_2en_20100__Strategies\index.html">Strategies</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20110__ManagingOrders.html" href="..\md_DataFeedsCore_2Docs_2en_20110__ManagingOrders\index.html">Managing orders in trading</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20115__IndicatorExamples.html" href="..\md_DataFeedsCore_2Docs_2en_20115__IndicatorExamples\index.html">Examples of indicators</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20120__StrategyExamples.html" href="..\md_DataFeedsCore_2Docs_2en_20120__StrategyExamples\index.html">Examples of strategies</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20130__AddingLogging.html" href="..\md_DataFeedsCore_2Docs_2en_20130__AddingLogging\index.html">Adding logging</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20135__DebugMode.html" href="..\md_DataFeedsCore_2Docs_2en_20135__DebugMode\index.html">Debug mode</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20140__IndicatorsStrategiesDistribution.html" href="..\md_DataFeedsCore_2Docs_2en_20140__IndicatorsStrategiesDistribution\index.html">Indicators and strategies distribution</a></span></div></li><li><div class="item"><span class="arrow" style="width: 32px;"> </span><span class="label"><a class="md_DataFeedsCore_2Docs_2en_20150__AccessToIndicators.html" href="..\md_DataFeedsCore_2Docs_2en_20150__AccessToIndicators\index.html">Managing access to custom indicators</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="namespaces.html" href="..\namespaces\index.html">Packages</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="annotated.html" href="..\annotated\index.html">Classes</a></span></div></li><li><div class="item"><a href="javascript:void(0)"><span class="arrow" style="padding-left: 16px;">►</span></a><span class="label"><a class="files.html" href="..\files\index.html">Files</a></span></div></li></ul></li></ul></div>
</div>
<div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;">
</div>
<div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_DataFeedsCore_2Docs_2en_20025__ReceivingProcessingData.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content" style="margin-left: 256px; height: 569px;">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onkeydown="return searchBox.OnSearchSelectKey(event)" onmouseout="return searchBox.OnSearchSelectHide()" onmouseover="return searchBox.OnSearchSelectShow()">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">•</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark"> </span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark"> </span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark"> </span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark"> </span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark"> </span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark"> </span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark"> </span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark"> </span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark"> </span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark"> </span>Events</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark"> </span>Pages</a></div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow" style="display: none;">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>
<div><div class="header">
<div class="headertitle"><div class="title">Receiving and processing data</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md17"></a> </p>
<h1><a class="anchor" id="autotoc_md18"></a>
Obtaining and using candle data</h1>
<p>To receive and use these candles, you need to get an object of the <a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html">IndicatorCandle</a> class. To do this, we can use the <a class="el" href="..\classATAS_1_1Indicators_1_1ExtendedIndicator\index.html#a4e22f2730354b56ffd66559a9c5f27af">GetCandle(int bar)</a> method by specifying the bar number.<br/>
 It must be remembered that bar is an integer and the numbering of bars starts from 0 and ends with <code>CurrentBar - 1</code>, where <a class="el" href="..\classATAS_1_1Indicators_1_1BaseIndicator\index.html#a2dad625c8cb62d89a65a46b824638b68">CurrentBar</a> is the total number of loaded bars.<br/>
 We can get the bar value from the parameters in the overridden <a class="el" href="..\classATAS_1_1Indicators_1_1BaseIndicator\index.html#a65c50fc1fec7d6c490aa23a1c3eeebd3">OnCalculate</a> method.<br/>
<b>If you specify a bar number less than 0 or greater than <code>CurrentBar - 1</code> when calling the <a class="el" href="..\classATAS_1_1Indicators_1_1ExtendedIndicator\index.html#a4e22f2730354b56ffd66559a9c5f27af">GetCandle(bar)</a> method, this will lead to an error and the calculations will be interrupted.</b></p>
<p>The <a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html">IndicatorCandle</a> object contains data that can be obtained from its properties or by calling methods of this object.<br/>
 Some properties worth clarifying:</p><ul>
<li><a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html#a15b797ae49bbf7647514cb36cf66eadb">LastTime</a> - time of the last trade on this bar,</li>
<li><a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html#a5496a694ff63727a56de57cca5180664">MaxDelta</a> is the largest delta value that was on this bar,</li>
<li><a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html#ab774715f9b730387684841fc6e2e01cd">MinDelta</a> - the lowest delta value that was on this bar,</li>
<li><a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html#aff03ffc123adbaa07128352297a99c0c">MaxOI</a> - the largest OI value that was on this bar,</li>
<li><a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html#a6ad1ad8638bb6a2c62a37d45a647ce5c">MinOI</a> - the lowest OI value that was on this bar</li>
</ul>
<div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SimpleInd : <a class="code hl_namespace" href="..\namespaceATAS\index.html">ATAS</a>.Indicators.Indicator</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line">        var candle = GetCandle(bar);</div>
<div class="line"> </div>
<div class="line">        var open = candle.Open;</div>
<div class="line">        var close = candle.Close;</div>
<div class="line">        var high = candle.High;</div>
<div class="line">        var low = candle.Low;</div>
<div class="line"> </div>
<div class="line">        var volume = candle.Volume;</div>
<div class="line">        var ask = candle.Ask;</div>
<div class="line">        var bid = candle.Bid;</div>
<div class="line">        var delta = candle.Delta;</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// TODO: your code</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="anamespaceATAS_html"><div class="ttname"><a href="..\namespaceATAS\index.html">ATAS</a></div><div class="ttdef"><b>Definition</b> AsyncConnector.cs:2</div></div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><hr/>
<h1><a class="anchor" id="autotoc_md19"></a>
Footprint data</h1>
<p>One important data type is bar data at a certain price (<b>footprint data</b>), which is stored in the <a class="el" href="..\classATAS_1_1Indicators_1_1PriceVolumeInfo\index.html">PriceVolumeInfo</a> object.<br/>
<a class="el" href="..\classATAS_1_1Indicators_1_1PriceVolumeInfo\index.html">PriceVolumeInfo</a> stores such data as: price, the number of volumes traded at the bid price, ask price, etc.<br/>
</p>
<p>Here are some ways to get <a class="el" href="..\classATAS_1_1Indicators_1_1PriceVolumeInfo\index.html">PriceVolumeInfo</a> objects from an <a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html">IndicatorCandle</a> object:</p><ul>
<li><a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html#ae6a64cd0a12f9ff193102b3fc8a6d3d3">GetPriceVolumeInfo (decimal price)</a> - cluster data at a certain price,</li>
<li><a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html#a3b16639dcd407b7c88866fb0d7626179">GetAllPriceLevels ()</a> - cluster data for all prices, in this case we will get a collection of <a class="el" href="..\classATAS_1_1Indicators_1_1PriceVolumeInfo\index.html">PriceVolumeInfo</a> objects,</li>
<li><a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html#a6a02e9c11fd7379fa28bac67ebee4c8e">MaxVolumePriceInfo</a> - cluster data at the price of the maximum volume,</li>
<li><a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html#a6fe87b7dae24861c3b842149bf0304ad">MaxTickPriceInfo</a> - cluster data for the price with the most ticks,</li>
<li><a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html#a3c4ef67bb640c8570f16c798a90ed6e2">MaxPositiveDeltaPriceInfo</a> - cluster data on the price with maximum delta,</li>
<li><a class="el" href="..\classATAS_1_1Indicators_1_1IndicatorCandle\index.html#ab322ca90826ea2437379e6101e48496e">MaxNegativeDeltaPriceInfo</a> - cluster data for the price with minimal delta</li>
</ul>
<div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SimpleInd : <a class="code hl_namespace" href="..\namespaceATAS\index.html">ATAS</a>.Indicators.Indicator</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line">        var candle = GetCandle(bar);</div>
<div class="line">        var high = candle.High;</div>
<div class="line">        var highData = candle.GetPriceVolumeInfo(high);</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">if</span> (highData != <span class="keyword">null</span>) </div>
<div class="line">        {</div>
<div class="line">            var highVolume = highData.Volume;</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// TODO: your code</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        var maxVolumeData = candle.MaxVolumePriceInfo;</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">if</span> (maxVolumeData != <span class="keyword">null</span>)</div>
<div class="line">        {</div>
<div class="line">            var maxVolume = maxVolumeData.Volume;</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// TODO: your code</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        var allPriceLevels = candle.GetAllPriceLevels();</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">foreach</span> ( var level <span class="keywordflow">in</span> allPriceLevels )</div>
<div class="line">        {</div>
<div class="line"> <span class="keywordflow">if</span> (level == <span class="keyword">null</span>)</div>
<div class="line"> <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">            var price = level.Price;</div>
<div class="line">            var volume = level.Volume;</div>
<div class="line">            var delta = level.Ask - level.Bid;</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// TODO: your code</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><h1><a class="anchor" id="autotoc_md20"></a>
Getting online ticks and aggregated trades</h1>
<p>To get the online tick data, it is necessary to redefine the <a class="el" href="..\classATAS_1_1Indicators_1_1ExtendedIndicator\index.html#a486ed770252ac81006f6bba11ae9c140">OnNewTrade(MarketDataArg arg)</a> method:</p>
<div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleTick : Indicator</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnNewTrade(MarketDataArg arg)</div>
<div class="line">    {</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line">}</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><p>API also allows getting aggregated trades. For this, it is necessary to redefine the <a class="el" href="..\classATAS_1_1Indicators_1_1ExtendedIndicator\index.html#ae7a7437439fea1973c7431bd45945f60">OnCumulativeTrade(CumulativeTrade arg)</a> method.<br/>
 This method will be automatically called when a new cumulative trade appears. Such trades may be subsequently modified. In order to keep track of these changes, you need to override the <a class="el" href="..\classATAS_1_1Indicators_1_1ExtendedIndicator\index.html#af6133d0303a699a7d8d52c4c6fa89d6e">OnUpdateCumulativeTrade(CumulativeTrade trade)</a> method.<br/>
 Example of realization of the indicator, which outputs the delta of cumulative trades of the volume of more than 3 lots:</p>
<div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleCumulativeTrades : <a class="code hl_namespace" href="..\namespaceATAS\index.html">ATAS</a>.Indicators.Indicator</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">private</span> CumulativeTrade _lastTrade;</div>
<div class="line"> <span class="keyword">private</span> decimal _lastCumulativeTradeVolume;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCumulativeTrade(CumulativeTrade trade)</div>
<div class="line">    {</div>
<div class="line">        AddCumulativeTrade(trade);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnUpdateCumulativeTrade(CumulativeTrade trade)</div>
<div class="line">    {</div>
<div class="line">        AddCumulativeTrade(trade);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">void</span> AddCumulativeTrade(CumulativeTrade trade)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (trade.Volume &lt; 3)</div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">if</span> (_lastTrade != trade)</div>
<div class="line">        {</div>
<div class="line">            _lastTrade = trade;</div>
<div class="line"> <span class="keyword">this</span>[CurrentBar - 1] += GetVolumeByDirection(trade.Volume, trade.Direction);</div>
<div class="line">        }</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line"> <span class="keyword">this</span>[CurrentBar - 1] += GetVolumeByDirection(trade.Volume - _lastCumulativeTradeVolume, trade.Direction);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        _lastCumulativeTradeVolume = trade.Volume;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> decimal GetVolumeByDirection(decimal volume, TradeDirection direction)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">return</span> volume * (direction == TradeDirection.Buy ? 1 : -1);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><p>To get historical cumulative trades, you need to call the <a class="el" href="..\classATAS_1_1Indicators_1_1ExtendedIndicator\index.html#add114c0bc61b7caa1ea3920d40ee0b62">RequestForCumulativeTrades</a> method, pass the <a class="el" href="..\classATAS_1_1Indicators_1_1CumulativeTradesRequest\index.html">CumulativeTradesRequest</a> request to the parameters, and override the <a class="el" href="..\classATAS_1_1Indicators_1_1ExtendedIndicator\index.html#a979770a8f1280d7a41b26a03ea92da4b">OnCumulativeTradesResponse</a> method. In the request, you need to specify the beginning and end of the time period for which you want to get cumulative trades, you can also set filters for the minimum and maximum volume of trades. If you specify 0 for the minimum and maximum volumes, then filters by volume will not be applied.<br/>
 An example of an indicator that receives data from cumulative trades from the first to the last bar:</p>
<div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleCumulativeTrades : <a class="code hl_namespace" href="..\namespaceATAS\index.html">ATAS</a>.Indicators.Indicator</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">private</span> List&lt;CumulativeTrade&gt; _trades;</div>
<div class="line"> <span class="keyword">private</span> CumulativeTradesRequest _request;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnFinishRecalculate()</div>
<div class="line">    {</div>
<div class="line">        var startTime = GetCandle(0).Time;</div>
<div class="line">        var lastTime = GetCandle(CurrentBar - 1).LastTime;</div>
<div class="line">        _request = <span class="keyword">new</span> CumulativeTradesRequest(startTime, lastTime, 0, 0);</div>
<div class="line">        RequestForCumulativeTrades(_request);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCumulativeTradesResponse(CumulativeTradesRequest request, IEnumerable&lt;CumulativeTrade&gt; cumulativeTrades)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (request != _request)</div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">        _trades = cumulativeTrades.ToList();</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><h1><a class="anchor" id="autotoc_md21"></a>
Working with Market Depth</h1>
<p>API allows getting the data about updates of the MarketDepth. For this, the <a class="el" href="..\classATAS_1_1Indicators_1_1ExtendedIndicator\index.html#a532e9f8787219b852bd10f90fd682a36">MarketDepthChanged(MarketDataArg arg)</a> method should be redefined:</p>
<div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleMD : <a class="code hl_namespace" href="..\namespaceATAS\index.html">ATAS</a>.Indicators.Indicator</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> MarketDepthChanged(MarketDataArg arg)</div>
<div class="line">    {</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line">}</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><p>It is also possible to get the total volume of all Bids and total volume of all Asks with the help of the <a class="el" href="..\classATAS_1_1Indicators_1_1Indicator\index.html#a06e73f90f3cb6842174f775b2c613705">MarketDepthInfo</a> object properties: <a class="el" href="..\classATAS_1_1Indicators_1_1MarketDepthInfoProvider\index.html#a612f8bb390a79ec0bb01da9963871228">CumulativeDomAsks</a> and <a class="el" href="..\classATAS_1_1Indicators_1_1MarketDepthInfoProvider\index.html#ae1da9888dc3f9bbfada9187facabf56d">CumulativeDomBids</a>. Example of the indicator which reflects the history of the total values of the Asks and Bids volumes</p>
<div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>DomPower : <a class="code hl_namespace" href="..\namespaceATAS\index.html">ATAS</a>.Indicators.Indicator</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">private</span> ValueDataSeries _asks;</div>
<div class="line"> <span class="keyword">private</span> ValueDataSeries _bids = <span class="keyword">new</span> ValueDataSeries(<span class="stringliteral">"Bids"</span>);</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">int</span> _lastCalculatedBar = 0;</div>
<div class="line">    privte <span class="keywordtype">bool</span> _first = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">public</span> DomPower() : base(true)</div>
<div class="line">    {</div>
<div class="line">        Panel = IndicatorDataProvider.NewPanel;</div>
<div class="line">        _asks = (ValueDataSeries)DataSeries[0];</div>
<div class="line">        _asks.Name = <span class="stringliteral">"Asks"</span>;</div>
<div class="line">        _bids.Color = Colors.Green;</div>
<div class="line">        DataSeries.Add(_bids);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> MarketDepthChanged(MarketDataArg arg)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (_first)</div>
<div class="line">        {</div>
<div class="line">            _first = <span class="keyword">false</span>;</div>
<div class="line">            _lastCalculatedBar = CurrentBar - 1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        var lastCandle = CurrentBar - 1;</div>
<div class="line">        var cumAsks = MarketDepthInfo.CumulativeDomAsks;</div>
<div class="line">        var cumBids = MarketDepthInfo.CumulativeDomBids;</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = _lastCalculatedBar; i &lt;= lastCandle; i++)</div>
<div class="line">        {</div>
<div class="line">            _asks[i] = -cumAsks;</div>
<div class="line">            _bids[i] = cumBids;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        _lastCalculatedBar = lastCandle;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><p>In some cases it might be necessary to get a snapshot of the MaketDepth data. For this, the <a class="el" href="..\classATAS_1_1Indicators_1_1MarketDepthInfoProvider\index.html#a76a61066eaf4c4eafdc31c38b37452fd">MarketDepthInfo.GetMarketDepthSnapshot()</a> function could be used. The function returns a list of all levels in the DOM.</p>
<h1><a class="anchor" id="autotoc_md22"></a>
MBO (Market By Orders)</h1>
<p>To date, this data is provided only by the <b>Rhithmic</b> provider.<br/>
 To get and analyze <b>MBO</b> (Market By Orders) data, you need to get an instance of an object that implements the <a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1IMarketByOrdersManager\index.html">IMarketByOrdersManager</a> interface using the <a class="el" href="..\classATAS_1_1Indicators_1_1ExtendedIndicator\index.html#a1a25f6922ea82bc35ef188fb54083ace">SubscribeMarketByOrderData</a> method. This object contains the <a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1IMarketByOrdersManager\index.html#aa16e5582e02892df31b84fc27363a81f">MarketByOrders</a> property, which is a collection of objects of type <a class="el" href="..\classATAS_1_1DataFeedsCore_1_1MarketByOrder\index.html">MarketByOrder</a>. To monitor changes in this collection in real time, you must subscribe to the <a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1IMarketByOrdersManager\index.html#ad7f415ab2ad44afe1443f9afd00cb954">Changed</a> event of the <a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1IMarketByOrdersManager\index.html">IMarketByOrdersManager</a> object.<br/>
</p>
<p><a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1IMarketByOrdersManager\index.html#aa16e5582e02892df31b84fc27363a81f">MarketByOrder</a> objects have the following properties:</p><ul>
<li><a class="el" href="..\classATAS_1_1DataFeedsCore_1_1MarketByOrder\index.html#ae63739f9b55f568eb01c317b48e300ad">Security</a> - security associated with the market by order entry.</li>
<li><a class="el" href="..\classATAS_1_1DataFeedsCore_1_1MarketByOrder\index.html#a492b23803210abaff252c6015f70f850">Time</a> - date and time of the market by order entry.</li>
<li><a class="el" href="..\classATAS_1_1DataFeedsCore_1_1MarketByOrder\index.html#aaa322eb2c52aa8be0e7cdc58ae6059e7">Type</a> - type of market by order update:<ul>
<li><a class="el" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a1a710cc738e98a7cc605cb391ff86617ad4e2713d1b1725a1592f9268589f990d">Snapshot</a> - Indicates that the MBO data is from a cache and not from the real-time data stream.</li>
<li><a class="el" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a1a710cc738e98a7cc605cb391ff86617a03c2e7e41ffc181a4e84080b4710e81e">New</a> - Indicates that the MBO data represents a new order added to the order book of this instrument.</li>
<li><a class="el" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a1a710cc738e98a7cc605cb391ff86617af4ec5f57bd4d31b803312d873be40da9">Change</a> - Indicates that the MBO data represents a change to an existing order.</li>
<li><a class="el" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a1a710cc738e98a7cc605cb391ff86617af2a6c498fb90ee345d997f888fce3b18">Delete</a> - Indicates that the MBO data represents a deletion of an existing order.</li>
</ul>
</li>
<li><a class="el" href="..\classATAS_1_1DataFeedsCore_1_1MarketByOrder\index.html#ab1706f37dd78eecb0143a726927f1dcc">Side</a> - Specifies the type of market data:<ul>
<li><a class="el" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a1aa3babe61bbdf13a9271fd9e95a44f4ae36ba1e187ae2b3ebcfd0a4c68367caf">Bid</a></li>
<li><a class="el" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a1aa3babe61bbdf13a9271fd9e95a44f4aa0b271a9d8aa8e7473922164d6a1c03c">Ask</a></li>
<li><a class="el" href="..\namespaceATAS_1_1DataFeedsCore\index.html#a1aa3babe61bbdf13a9271fd9e95a44f4a5f390d80b20daad8f5d2f483fb0ae9d8">Trade</a></li>
</ul>
</li>
<li><a class="el" href="..\classATAS_1_1DataFeedsCore_1_1MarketByOrder\index.html#a80766904fccdf9c041ada9e5e16be5fc">Priority</a> - Priority of this order in the exchange's matching engine queue.</li>
<li><a class="el" href="..\classATAS_1_1DataFeedsCore_1_1MarketByOrder\index.html#a889d5ef746b506ef536c21e6f89f9d04">ExchangeOrderId</a> - Exchange order id of this order.</li>
<li><a class="el" href="..\classATAS_1_1DataFeedsCore_1_1MarketByOrder\index.html#a76c45d926f6a2b9a7177a92125903ecd">Price</a> - Price associated with this order.</li>
<li><a class="el" href="..\classATAS_1_1DataFeedsCore_1_1MarketByOrder\index.html#a141c57af356e8b960de5a7924f0e3025">Volume</a> - Volume associated with this order.</li>
</ul>
<p>Below is an example of an indicator using <a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1IMarketByOrdersManager\index.html">IMarketByOrdersManager</a>. </p><div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleMBODataIndicator : <a class="code hl_namespace" href="..\namespaceATAS\index.html">ATAS</a>.Indicators.Indicator</div>
<div class="line">    {</div>
<div class="line"> <span class="keyword">private</span> IMarketByOrdersManager _manager;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> async <span class="keywordtype">void</span> OnInitialize()</div>
<div class="line">        {</div>
<div class="line">            _manager = await SubscribeMarketByOrderData();</div>
<div class="line"> </div>
<div class="line">            _manager.Changed += Manager_Changed;</div>
<div class="line">            Manager_Changed(_manager.MarketByOrders);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">void</span> Manager_Changed(System.Collections.Generic.IEnumerable&lt;DataFeedsCore.MarketByOrder&gt; marketByOrders)</div>
<div class="line">        {</div>
<div class="line">            this.LogInfo(<span class="stringliteral">"new MBO data"</span>);</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">foreach</span> (var marketByOrder <span class="keywordflow">in</span> marketByOrders)</div>
<div class="line">            {</div>
<div class="line">                this.LogInfo(<span class="stringliteral">"{0}"</span>, marketByOrder);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">        #region Overrides of ExtendedIndicator</span></div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnNewTrade(MarketDataArg trade)</div>
<div class="line">        {</div>
<div class="line">            this.LogInfo($<span class="stringliteral">"ExchangeOrderId: {trade.ExchangeOrderId}, AggressorExchangeOrderId: {trade.AggressorExchangeOrderId}"</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">        #endregion</span></div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnDispose()</div>
<div class="line">        {</div>
<div class="line">            base.OnDispose();</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">if</span> (_manager != <span class="keyword">null</span>)</div>
<div class="line">            {</div>
<div class="line">                _manager.Changed -= Manager_Changed;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">        {</div>
<div class="line"> </div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><h1><a class="anchor" id="autotoc_md23"></a>
Statistical data</h1>
<p>You can get statistical data using the indicator property <a class="el" href="..\classATAS_1_1Indicators_1_1Indicator\index.html#a8f17faea0cd2927486eb77fb218b0eda">TradingStatisticsProvider</a>. Statistical data is stored in an object that implements <a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1ITradingStatistics\index.html">ITradingStatistics</a>, which you can retrieve through:</p>
<ul>
<li>The <a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1ITradingStatisticsProvider\index.html#ababb7b8655b614919db56107efbb89f7">TradingStatisticsProvider.Realtime</a> property.</li>
<li>The asynchronous method TradingStatisticsProvider.LoadAsync(DateTime from, DateTime to, ICollection&lt;string&gt;? accounts = null, ICollection&lt;string&gt;? securities = null).</li>
</ul>
<p>To get the history of statistics, you need to call the LoadAsync asynchronous method, passing the <code>start time</code> and <code>end time</code> of the desired period as parameters. You can also pass in the parameters for which accounts and instruments you need data. Statistics data obtained using this method displays statistics for a certain period and is not updated in real time.<br/>
 An example of an indicator that logs equity data for the period from the beginning of the chart to the current bar: </p><div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1DataFeedsCore\index.html">ATAS.DataFeedsCore</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1DataFeedsCore_1_1Statistics\index.html">ATAS.DataFeedsCore.Statistics</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1Indicators\index.html">ATAS.Indicators</a>;</div>
<div class="line"><span class="keyword">using </span>Utils.Common.Collections;</div>
<div class="line"><span class="keyword">using </span>Utils.Common.Logging;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleStatistics : <a class="code hl_class" href="..\classATAS_1_1Indicators_1_1Indicator\index.html">Indicator</a></div>
<div class="line">{</div>
<div class="line"> <span class="keyword">private</span> <a class="code hl_interface" href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1ITradingStatistics\index.html">ITradingStatistics</a> _tradingStatistics;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnFinishRecalculate()</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (_tradingStatistics is <span class="keyword">null</span>)</div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">foreach</span> (var equity <span class="keywordflow">in</span> _tradingStatistics.<a class="code hl_property" href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1ITradingStatistics\index.html#a2737aff6dc45dddf35a4b752e91bab10">Equity</a>)</div>
<div class="line">        {</div>
<div class="line">            this.LogInfo($<span class="stringliteral">"Time: {equity.Time} | equity: {equity.Equity} | total equity: {equity.TotalEquity}"</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> async <span class="keywordtype">void</span> OnInitialize()</div>
<div class="line">    {</div>
<div class="line">        var start = GetCandle(0).Time;</div>
<div class="line">        var end = GetCandle(CurrentBar - 1).LastTime;</div>
<div class="line">        _tradingStatistics = await TradingStatisticsProvider.LoadAsync(start, end);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassATAS_1_1Indicators_1_1Indicator_html"><div class="ttname"><a href="..\classATAS_1_1Indicators_1_1Indicator\index.html">ATAS.Indicators.Indicator</a></div><div class="ttdoc">Base class for custom indicators.</div><div class="ttdef"><b>Definition</b> Indicator.cs:42</div></div>
<div class="ttc" id="ainterfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1ITradingStatistics_html"><div class="ttname"><a href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1ITradingStatistics\index.html">ATAS.DataFeedsCore.Statistics.ITradingStatistics</a></div><div class="ttdef"><b>Definition</b> ITradingStatistics.cs:10</div></div>
<div class="ttc" id="ainterfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1ITradingStatistics_html_a2737aff6dc45dddf35a4b752e91bab10"><div class="ttname"><a href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1ITradingStatistics\index.html#a2737aff6dc45dddf35a4b752e91bab10">ATAS.DataFeedsCore.Statistics.ITradingStatistics.Equity</a></div><div class="ttdeci">IMutableEnumerable&lt; EquityValue &gt; Equity</div><div class="ttdef"><b>Definition</b> ITradingStatistics.cs:17</div></div>
<div class="ttc" id="anamespaceATAS_1_1DataFeedsCore_1_1Statistics_html"><div class="ttname"><a href="..\namespaceATAS_1_1DataFeedsCore_1_1Statistics\index.html">ATAS.DataFeedsCore.Statistics</a></div><div class="ttdef"><b>Definition</b> ITradingStatistics.cs:1</div></div>
<div class="ttc" id="anamespaceATAS_1_1DataFeedsCore_html"><div class="ttname"><a href="..\namespaceATAS_1_1DataFeedsCore\index.html">ATAS.DataFeedsCore</a></div><div class="ttdef"><b>Definition</b> AsyncConnector.cs:2</div></div>
<div class="ttc" id="anamespaceATAS_1_1Indicators_html"><div class="ttname"><a href="..\namespaceATAS_1_1Indicators\index.html">ATAS.Indicators</a></div><div class="ttdef"><b>Definition</b> FeatureId.cs:2</div></div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --><p>The <a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1ITradingStatistics\index.html">ITradingStatistics</a> object contains the following types of statistics:</p><ul>
<li><b>Equity</b> the collection of <a class="el" href="..\namespaceATAS_1_1DataFeedsCore_1_1Statistics\index.html#a38271fe8706f1b9675f22ad2d2cf845f">EquityValue</a></li>
<li><b>HistoryMyTrades</b> the collection of <a class="el" href="..\classATAS_1_1DataFeedsCore_1_1HistoryMyTrade\index.html">HistoryMyTrade</a></li>
<li><b>Orders</b> the collection of <a class="el" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a></li>
<li><b>MyTrades</b> the collection of <a class="el" href="..\classATAS_1_1DataFeedsCore_1_1MyTrade\index.html">MyTrade</a></li>
<li><b>Statistics</b> the collection of <a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1IStatisticsParameterGroup\index.html">IStatisticsParameterGroup</a></li>
</ul>
<p>If you get the <a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1ITradingStatistics\index.html">ITradingStatistics</a> object using <a class="el" href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1ITradingStatisticsProvider\index.html#ababb7b8655b614919db56107efbb89f7">TradingStatisticsProvider.Realtime</a>, then you can track changes in these properties in real time by subscribing to their events:</p><ul>
<li><b>Added</b></li>
<li><b>Changed</b></li>
<li><b>Removed</b></li>
<li><b>Cleared</b></li>
</ul>
<p>An example of an indicator that outputs these data to the log when new statistical data appears: </p><div class="doxygen-awesome-fragment-wrapper"><div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1DataFeedsCore\index.html">ATAS.DataFeedsCore</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1DataFeedsCore_1_1Statistics\index.html">ATAS.DataFeedsCore.Statistics</a>;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="..\namespaceATAS_1_1Indicators\index.html">ATAS.Indicators</a>;</div>
<div class="line"><span class="keyword">using </span>Utils.Common.Collections;</div>
<div class="line"><span class="keyword">using </span>Utils.Common.Logging;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>SampleStatistics : <a class="code hl_class" href="..\classATAS_1_1Indicators_1_1Indicator\index.html">Indicator</a></div>
<div class="line">{</div>
<div class="line"> <span class="keyword">private</span> IMutableEnumerable&lt;HistoryMyTrade&gt; _historyMyTrades;</div>
<div class="line"> <span class="keyword">private</span> IMutableEnumerable&lt;EquityValue&gt; _equity;</div>
<div class="line"> <span class="keyword">private</span> IMutableEnumerable&lt;Order&gt; _orders;</div>
<div class="line"> <span class="keyword">private</span> IMutableEnumerable&lt;MyTrade&gt; _myTrades;</div>
<div class="line"> <span class="keyword">private</span> IMutableEnumerable&lt;IStatisticsParameterGroup&gt; _statistics;</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnCalculate(<span class="keywordtype">int</span> bar, decimal value)</div>
<div class="line">    { </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnInitialize()</div>
<div class="line">    {</div>
<div class="line">        var tradingStatistics = TradingStatisticsProvider.Realtime;</div>
<div class="line"> </div>
<div class="line">        _historyMyTrades = tradingStatistics.HistoryMyTrades;</div>
<div class="line">        _historyMyTrades.Added += HistoryMyTrades_Added;</div>
<div class="line"> </div>
<div class="line">        _equity = tradingStatistics.Equity;</div>
<div class="line">        _equity.Added += Equity_Added;</div>
<div class="line"> </div>
<div class="line">        _orders = tradingStatistics.Orders;</div>
<div class="line">        _orders.Added += Orders_Added; ;</div>
<div class="line"> </div>
<div class="line">        _myTrades = tradingStatistics.MyTrades;</div>
<div class="line">        _myTrades.Added += MyTrades_Added;</div>
<div class="line"> </div>
<div class="line">        _statistics = tradingStatistics.Statistics;</div>
<div class="line">        _statistics.Added += Statistics_Added;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">void</span> Statistics_Added(<a class="code hl_interface" href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1IStatisticsParameterGroup\index.html">IStatisticsParameterGroup</a> spGroup)</div>
<div class="line">    {</div>
<div class="line">        this.LogInfo($<span class="stringliteral">"New {spGroup.Name} data."</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">void</span> MyTrades_Added(<a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1MyTrade\index.html">MyTrade</a> trade)</div>
<div class="line">    {</div>
<div class="line">        this.LogInfo($<span class="stringliteral">"New MyTrade {trade.AccountID} added."</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">void</span> Orders_Added(<a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">Order</a> order)</div>
<div class="line">    {</div>
<div class="line">        this.LogInfo($<span class="stringliteral">"New Order {order.AccountID} added."</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">void</span> Equity_Added(EquityValue equity)</div>
<div class="line">    {</div>
<div class="line">        this.LogInfo($<span class="stringliteral">"Time: {equity.Time} | equity: {equity.Equity} | total equity: {equity.TotalEquity}"</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span> <span class="keywordtype">void</span> HistoryMyTrades_Added(<a class="code hl_class" href="..\classATAS_1_1DataFeedsCore_1_1HistoryMyTrade\index.html">HistoryMyTrade</a> trade)</div>
<div class="line">    {</div>
<div class="line">        this.LogInfo($<span class="stringliteral">"New HistoryMyTrade {trade.AccountID} added."</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnDispose()</div>
<div class="line">    {</div>
<div class="line">        base.OnDispose();</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">if</span> (_historyMyTrades != <span class="keyword">null</span>)</div>
<div class="line">            _historyMyTrades.Added -= HistoryMyTrades_Added;</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">if</span> (_equity != <span class="keyword">null</span>)</div>
<div class="line">            _equity.Added -= Equity_Added;</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">if</span> (_orders != <span class="keyword">null</span>)</div>
<div class="line">            _orders.Added -= Orders_Added;</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">if</span> (_myTrades != <span class="keyword">null</span>)</div>
<div class="line">            _myTrades.Added -= MyTrades_Added;</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">if</span> (_statistics != <span class="keyword">null</span>)</div>
<div class="line">            _statistics.Added -= Statistics_Added;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassATAS_1_1DataFeedsCore_1_1HistoryMyTrade_html"><div class="ttname"><a href="..\classATAS_1_1DataFeedsCore_1_1HistoryMyTrade\index.html">ATAS.DataFeedsCore.HistoryMyTrade</a></div><div class="ttdoc">Represents a historical trade record.</div><div class="ttdef"><b>Definition</b> HistoryMyTrade.cs:34</div></div>
<div class="ttc" id="aclassATAS_1_1DataFeedsCore_1_1MyTrade_html"><div class="ttname"><a href="..\classATAS_1_1DataFeedsCore_1_1MyTrade\index.html">ATAS.DataFeedsCore.MyTrade</a></div><div class="ttdoc">Represents a trade entity in the system.</div><div class="ttdef"><b>Definition</b> MyTrade.cs:14</div></div>
<div class="ttc" id="aclassATAS_1_1DataFeedsCore_1_1Order_html"><div class="ttname"><a href="..\classATAS_1_1DataFeedsCore_1_1Order\index.html">ATAS.DataFeedsCore.Order</a></div><div class="ttdoc">Represents an order for trading on a financial exchange.</div><div class="ttdef"><b>Definition</b> Order.cs:15</div></div>
<div class="ttc" id="ainterfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1IStatisticsParameterGroup_html"><div class="ttname"><a href="..\interfaceATAS_1_1DataFeedsCore_1_1Statistics_1_1IStatisticsParameterGroup\index.html">ATAS.DataFeedsCore.Statistics.IStatisticsParameterGroup</a></div><div class="ttdef"><b>Definition</b> StatisticsParameterGroup.cs:9</div></div>
</div><doxygen-awesome-fragment-copy-button title="Copy to clipboard"><svg height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></doxygen-awesome-fragment-copy-button></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.7-->
<!-- start footer part -->
<div class="navpath" id="nav-path"><!-- id is needed for treeview function! -->
<ul>
<li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img alt="doxygen" class="footer" height="31" src="..\doxygen.svg" width="104"/></a> 1.9.7 </li>
<li class="footer"><a href="https://t.me/+Afb9R7MEDqY3MDUy"><img alt="telegram group" class="footer_tg" height="31" src="..\tg_logo.svg" width="31"/> Join our developers chat</a> </li>
</ul>
</div>
</body></html>